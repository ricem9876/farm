# ===============================================
# UI & CHARACTER FILES DOCUMENTATION
# ===============================================
# This document lists all UI-related files in your game
# and explains what each one does.
# ===============================================

# ===============================================
# CHARACTER SYSTEM
# ===============================================

## CharacterData.gd
**Location:** Resources/Scripts/CharacterData.gd
**Purpose:** Data template for character properties
**DO NOT EDIT THIS FILE** - Edit CharacterRegistry.gd instead

**Properties:**
- character_id: Unique identifier
- character_name: Display name
- description: Character description
- starting_health: Base HP (default 100)
- starting_speed: Movement speed (default 100)
- starting_damage_multiplier: Damage multiplier (default 1.0)
- starting_fire_rate_multiplier: Fire rate (default 1.0)
- bonus_crit_chance: Critical hit chance bonus
- bonus_crit_damage: Critical damage bonus
- bonus_luck: Luck bonus
- bonus_xp_gain: XP gain bonus
- starting_weapon: Starting weapon name
- starting_items: Array of starting items
- portrait: Character portrait image
- sprite_texture: In-game sprite

---

## CharacterRegistry.gd ⭐ EDIT THIS TO ADD/CHANGE CHARACTERS
**Location:** Resources/Scripts/CharacterRegistry.gd
**Purpose:** Central registry of all playable characters
**Type:** Autoload (available as "CharacterRegistry")

**Current Characters:**
1. **Hero** - Balanced (100 HP, 100 speed, Pistol)
2. **Warrior** - Tank (150 HP, 80 speed, Shotgun, +20% crit damage)
3. **Scout** - Speed (75 HP, 130 speed, Pistol, +5% luck, +10% XP)
4. **Hunter** - Crit (90 HP, 105 speed, Pistol, +10% crit chance, +30% crit damage)

**How to Add a Character:**
```gdscript
var my_character = CharacterData.new()
my_character.character_id = "ninja"
my_character.character_name = "Ninja"
my_character.description = "Fast and deadly"
my_character.starting_health = 70.0
my_character.starting_speed = 150.0
my_character.starting_damage_multiplier = 1.2
my_character.starting_fire_rate_multiplier = 1.4
my_character.starting_weapon = "Pistol"
my_character.bonus_crit_chance = 0.15  # +15%
register_character(my_character)
```

**How to Change Stats:**
Find the character in _register_default_characters() and modify values:
- starting_health: 75 (low), 100 (normal), 150 (tank)
- starting_speed: 80 (slow), 100 (normal), 130 (fast)
- starting_damage_multiplier: 0.8 (weak), 1.0 (normal), 1.5 (strong)
- starting_fire_rate_multiplier: 0.8 (slow), 1.0 (normal), 1.3 (fast)

**How to Add Portrait:**
```gdscript
my_character.portrait = preload("res://path/to/image.png")
```

**How to Give Starting Items:**
```gdscript
var items: Array[Dictionary] = []
items.append({"name": "Wood", "quantity": 10})
items.append({"name": "Wolf Fur", "quantity": 5})
my_character.starting_items = items
```

---

## CharacterSelectUI.gd
**Location:** Resources/UI/CharacterSelectUI.gd
**Purpose:** Character selection screen interface

**Features:**
- Browse characters with < > buttons
- Shows character portrait, name, description
- Displays all stats
- Confirm to select character
- Back to save select

**How to Customize Display:**
- Change colors in _setup_ui()
- Change font sizes in _setup_ui()
- Modify stat display in _update_stats_display()

---

# ===============================================
# INVENTORY SYSTEM
# ===============================================

## 1. InventoryUI.gd
**Location:** Resources/Inventory/InventoryUI.gd
**Purpose:** Main player inventory display
**Features:**
- Shows 8 inventory slots in horizontal row
- Displays item icons and quantities
- Hover over items to see details
- Opens with 'I' key or toggle function
- Follows camera position

**Key Functions:**
- setup_inventory(inv_manager, camera, player) - Initialize the UI
- toggle_visibility() - Show/hide inventory
- _create_slots() - Create the 8 slot UI elements
- _update_display() - Refresh all slots

---

## 2. InventorySlot.gd
**Location:** Resources/Inventory/InventorySlot.gd
**Purpose:** Individual inventory slot component
**Features:**
- Displays single item icon
- Shows quantity badge (red circle) if count > 1
- Highlights on hover
- Changes appearance when empty/full
- Clickable

**Key Functions:**
- set_item(item, quantity) - Display an item in this slot
- _update_slot_appearance(has_item) - Change visual style

---

## 3. StorageUI.gd
**Location:** Resources/UI/StorageUI.gd
**Purpose:** Transfer items between player and storage chest
**Features:**
- Left panel: Player's 8-slot inventory
- Right panel: Storage chest's larger inventory
- Click-to-select, click-to-transfer system
- Golden highlight shows selection
- Shows transfer instructions

**Key Functions:**
- setup_storage(player_inv, storage_inv, camera) - Initialize
- _on_player_slot_clicked(index) - Handle player slot clicks
- _on_storage_slot_clicked(index) - Handle storage slot clicks
- _transfer_item_from_player_to_storage() - Move item to storage
- _transfer_item_from_storage_to_player() - Move item to player

---

# ===============================================
# WEAPON SYSTEM
# ===============================================

## 4. WeaponStorageUI.gd
**Location:** Resources/Weapon/WeaponStorageUI.gd
**Purpose:** Weapon armory for unlocking, upgrading, and equipping weapons
**Features:**
- Shows all 6 weapon types
- Lock icons on locked weapons
- Purchase weapons with Fur + Fiber
- Equip to Primary [1] or Secondary [2] slots
- Unequip weapons from slots
- Shows weapon stats (damage, fire rate, etc)
- Shows available upgrades for each weapon
- Purchase upgrades with Wood

**Key Functions:**
- setup_storage(storage, manager, player) - Initialize
- _on_unlock_weapon(weapon, costs) - Unlock a weapon
- _on_equip_pressed(slot) - Equip/unequip weapon to slot
- _on_purchase_upgrade(upgrade) - Buy upgrade
- toggle_visibility() - Show/hide UI

---

## 5. WeaponUpgradeUI.gd
**Location:** Resources/Weapon/WeaponUpgradeUI.gd
**Purpose:** Dedicated shop for purchasing weapon upgrades
**Features:**
- Lists all available upgrades by weapon type
- Shows upgrade costs (Wood)
- Shows which upgrades are owned
- Purchase button for each upgrade
- Wood counter at top

**Key Functions:**
- setup(manager, player) - Initialize
- open() - Show the upgrade shop
- close() - Hide the upgrade shop
- _on_purchase_button_pressed(upgrade) - Buy an upgrade

---

# ===============================================
# CHARACTER PROGRESSION
# ===============================================

## 6. SkillTreeUI.gd
**Location:** Resources/UI/SkillTreeUI.gd
**Purpose:** Player skill tree for spending skill points
**Features:**
- Shows player level and XP progress
- Displays skill points available
- 7 different stats to upgrade:
  - Max Health (+10 HP per point)
  - Movement Speed (+5% per point)
  - Weapon Damage (+5% per point)
  - Fire Rate (+4% per point)
  - Luck (+1% dodge & double drops per point)
  - Critical Chance (+2% per point, max 25)
  - Critical Damage (+10% per point)
- Each stat shows current value and points invested
- Opens when you level up

**Key Functions:**
- setup(player_level_system) - Initialize with player's level system
- open() - Show skill tree (pauses game)
- close() - Hide skill tree (unpauses game)
- _on_upgrade_button_pressed(stat_name) - Spend point on a stat

---

## 7. UpgradeStatsUI.gd
**Location:** Resources/UI/UpgradeStatsUI.gd
**Purpose:** Quick stats viewer (Press K)
**Features:**
- Shows player level and XP
- Displays current stat values
- Simple read-only view
- Opens with 'K' key

**Key Functions:**
- toggle_visibility() - Show/hide UI
- _update_stats_display() - Refresh stat values

---

## 8. StatsBookUI.gd
**Location:** Resources/UI/StatsBookUI.gd
**Purpose:** Detailed player records and statistics
**Features:**
- Enemies Slain section (total kills by type)
- Combat Statistics (damage, shots, crit rate)
- Progression (XP gained, items collected, deaths)
- Time Played (formatted playtime)

**Key Functions:**
- open() - Show the records book (pauses game)
- close() - Hide the records book (unpauses game)
- _update_stats() - Refresh all statistics from StatsTracker

---

## 9. RecordsBookUI.gd
**Location:** Resources/UI/RecordsBookUI.gd
**Purpose:** Achievement-style records viewer (Press B)
**Features:**
- Combat statistics (kills, damage, accuracy)
- Exploration records (levels, deaths, playtime)
- Collection tracking (items, resources)
- Opens with 'B' key

**Key Functions:**
- toggle_visibility() - Show/hide UI
- _update_records_display() - Refresh all records

---

# ===============================================
# GAME FLOW UI
# ===============================================

## 10. LevelSelectUI.gd
**Location:** Resources/UI/LevelSelectUI.gd
**Purpose:** Mission select screen in safehouse
**Features:**
- 4 difficulty levels (Farm 1-4)
- Lock system: Spend mushrooms to unlock levels
  - Farm 1: Always unlocked (0 mushrooms)
  - Farm 2: 10 mushrooms
  - Farm 3: 15 mushrooms
  - Farm 4: 25 mushrooms
- Shows difficulty and enemy count
- Saves which levels are unlocked

**Key Functions:**
- open() - Show level select
- close() - Hide level select
- _on_level_selected(level_data) - Start selected level
- _on_purchase_level(index) - Unlock level with mushrooms
- _save_unlocked_levels() - Save unlock progress

---

## 11. DialogueUI.gd
**Location:** Resources/UI/DialogueUI.gd
**Purpose:** Shows dialogue boxes for NPCs and tutorials
**Features:**
- Text box with character name
- Continue button
- Can advance with SPACE or ENTER
- Used for tutorial messages

---

## 12. TutorialUI.gd
**Location:** Resources/UI/TutorialUI.gd
**Purpose:** In-game tutorial overlay
**Features:**
- Shows tutorial messages
- Highlights UI elements
- Step-by-step instructions
- Used in intro tutorial

---

## 13. SaveSlotUI.gd
**Location:** Resources/UI/SaveSlotUI.gd
**Purpose:** Individual save slot component
**Features:**
- Shows save file info (level, playtime)
- "NEW GAME" for empty slots
- Click to load/start game
- Used in save select screen

---

## 14. CharacterSelectUI.gd
**Location:** Resources/UI/CharacterSelectUI.gd
**Purpose:** Character selection screen
**Features:**
- Browse through available characters
- Shows stats and descriptions
- Select character before starting
- Back to save selection

---

## 15. PauseMenu.gd
**Location:** Resources/UI/PauseMenu.gd
**Purpose:** Pause menu (ESC key)
**Features:**
- Resume button
- Settings button
- Quit to main menu
- Pauses game when open

---

## 16. EnemyHealthBar.gd
**Location:** Resources/UI/EnemyHealthBar.gd
**Purpose:** Health bar above enemies
**Features:**
- Shows current HP / max HP
- Updates position to follow enemy
- Red bar with black border

---

## 17. DamageNumber.gd
**Location:** Resources/UI/DamageNumber.gd
**Purpose:** Floating damage numbers
**Features:**
- Shows damage dealt
- Floats upward and fades out
- Different colors for crits

---

# ===============================================
# HOW TO EDIT UI FILES
# ===============================================

## General Tips:
1. **Always backup before editing!**
2. **Test changes in-game immediately**
3. **Search for "TODO" comments if any exist**
4. **Look for "FEATURES:" and "KEY FUNCTIONS:" at top of each file**

## Common Edits:

### Change UI Colors:
Search for `Color(r, g, b, a)` values
- Example: `Color(0.98, 0.94, 0.86)` = cream color
- Example: `Color(0.8, 0.2, 0.2)` = red
- Values range from 0.0 to 1.0

### Change UI Sizes:
Search for `custom_minimum_size = Vector2(width, height)`
- Example: `Vector2(48, 48)` = 48 pixels wide and tall

### Change Text:
Search for `.text = "TEXT HERE"`
- Most UI titles and labels use this

### Change Fonts:
Search for `add_theme_font_override("font", pixel_font)`
- Current font: yoster.ttf (pixel art style)

### Change Positions:
Search for `position = Vector2(x, y)` or `offset_`
- X = horizontal, Y = vertical

---

# ===============================================
# CHARACTER CUSTOMIZATION QUICK START
# ===============================================

## To Add a New Character:
1. Open: `Resources/Scripts/CharacterRegistry.gd`
2. Go to _register_default_characters()
3. Copy an existing character block
4. Change the values
5. Call register_character() at the end

## To Change Character Stats:
1. Open: `Resources/Scripts/CharacterRegistry.gd`
2. Find the character (hero, warrior, scout, hunter)
3. Edit the stat values

## To Add Character Portrait:
```gdscript
my_character.portrait = preload("res://portraits/mycharacter.png")
```

## To Change Starting Items:
```gdscript
var items: Array[Dictionary] = []
items.append({"name": "Wood", "quantity": 10})
items.append({"name": "Wolf Fur", "quantity": 5})
my_character.starting_items = items
```

---

# ===============================================
# FILE RELATIONSHIPS
# ===============================================

**CharacterRegistry** → defines → **CharacterData** (4 characters)
**CharacterSelectUI** → reads from → **CharacterRegistry**
**Player** → loads data from → **CharacterData** (at game start)

**InventoryUI** uses → **InventorySlot** (8 times)
**StorageUI** uses → **InventorySlot** (many times)
**WeaponStorageUI** uses → **InventorySlot** (for weapon icons)

**SkillTreeUI** connects to → **PlayerLevelSystem** (player script)
**StatsBookUI** reads from → **StatsTracker** (autoload singleton)
**RecordsBookUI** reads from → **StatsTracker** (autoload singleton)

**LevelSelectUI** uses → **SaveSystem** (for saving unlocked levels)
**SaveSlotUI** uses → **SaveSystem** (for save file data)

---

# ===============================================
# QUICK REFERENCE: OPENING UIS
# ===============================================

**Character Select:** Automatic on new game
**Inventory:** Press 'I' key
**Skill Tree:** Opens automatically on level up
**Upgrade Stats:** Press 'K' key
**Records Book:** Press 'B' key
**Pause Menu:** Press 'ESC' key

**Storage:** Interact with storage chest
**Weapon Armory:** Interact with weapon chest
**Level Select:** Talk to NPC in safehouse

---

# ===============================================
# CHARACTER STAT QUICK REFERENCE
# ===============================================

**starting_health:** Base HP
- 75 = fragile, 100 = normal, 150 = tank

**starting_speed:** Movement speed
- 80 = slow, 100 = normal, 130 = fast

**starting_damage_multiplier:** Damage multiplier
- 0.8 = weak, 1.0 = normal, 1.5 = strong

**starting_fire_rate_multiplier:** Fire rate
- 0.9 = slow, 1.0 = normal, 1.3 = fast

**bonus_crit_chance:** Crit chance bonus
- 0.1 = +10%, 0.15 = +15%

**bonus_crit_damage:** Crit damage bonus
- 0.2 = +20%, 0.5 = +50%

**bonus_luck:** Luck (dodge, drops)
- 0.05 = +5%, 0.1 = +10%

**bonus_xp_gain:** XP bonus
- 0.1 = +10%, 0.25 = +25%

---

END OF DOCUMENTATION
